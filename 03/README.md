# 第3章
DFFを用いて記憶素子(レジスタ・メモリ・カウンタ)の実装を行う  

### ︎組み合わせ回路
・現在の入力のみで出力が決まる  
・第1章および第2章の回路は全て組み合わせ回路
 
### 順序回路
・過去の内部状態と現在の入力により出力が決まる  
・内部的にはDFFとフィードバックループを用いる 

### クロック
・tick/tockの2値信号(1周期内に信号が2つある)  
・順序回路の場合は最初のtickで値を出力し、次のtockで保存された値の更新を行う  
・特にフィードバックループの場合、tickで出力した値を用いてtockで保存された値の更新を行う  

### D型フリップフロップ(DFF)
・out(t)=in(t-1)

### 注意点
・(メモリ/レジスタ等の)順序回路は任意の時点において常に信号を出力している  
・順序回路はクロックの更新タイミングを考慮すると、loadフラグの有無にかかわらず常に内部に保存してある値をtickで出力している  
・メモリから読み込む場合はマルチプレクサで、特定のアドレスのメモリの出力のみを参照している

### 感想
・プログラムカウンタはレジスタのloadビットは常にtrueとし、マルチプレクサを多段に重ねることで実装する  
・loadビットを常にtrueとする発想に至るまでが難しい  
・tick/tockとフィードバックループの更新タイミングがわからないと、5章のCPU実装で詰む  